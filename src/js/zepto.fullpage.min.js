/*!
 * zepto.fullpage.js v0.3.1 (https://github.com/yanhaijing/zepto.fullpage)
 * API https://github.com/yanhaijing/zepto.fullpage/blob/master/doc/api.md
 * Copyright 2014 yanhaijing. All Rights Reserved
 * Licensed under MIT (https://github.com/yanhaijing/zepto.fullpage/blob/master/LICENSE)
 */
(function(e,h,b){if(typeof e==="undefined"){throw new Error("zepto.fullpage's script requires Zepto")}e(document).on("touchmove",function(d){d.preventDefault()});var g=null;var i={page:".page",start:0,duration:500,loop:false,drag:false,dir:"v",change:function(d){},beforeChange:function(d){},afterChange:function(d){},orientationchange:function(d){}};function f(l,k,d){if(l<0){return !!d?k-1:0}if(l>=k){return !!d?0:k-1}return l}function c(m,d,l){var k=d==="v"?"translateY":"translateX";m.css({"-webkit-transform":k+"("+l+"px)",transform:k+"("+l+"px)"})}function j(d){var l=e.extend(true,{},i,d);var k=this;k.curIndex=-1;k.o=l;k.startY=0;k.movingFlag=false;k.$this.addClass("fullPage-wp");k.$parent=k.$this.parent();k.$pages=k.$this.find(l.page).addClass("fullPage-page fullPage-dir-"+l.dir);k.pagesLength=k.$pages.length;k.update();k.initEvent();k.status=1}function a(k,d){this.$this=k;j.call(this,d)}e.extend(a.prototype,{update:function(){if(this.o.dir==="h"){this.width=this.$parent.width();this.$pages.width(this.width);this.$this.width(this.width*this.pagesLength)}this.height=this.$parent.height();this.$pages.height(this.height);this.moveTo(this.curIndex<0?this.o.start:this.curIndex)},initEvent:function(){var d=this;var k=d.$this;k.on("touchstart",function(l){if(!d.status){return 1}if(d.movingFlag){return 0}d.startX=l.targetTouches[0].pageX;d.startY=l.targetTouches[0].pageY});k.on("touchend",function(n){if(!d.status){return 1}if(d.movingFlag){return 0}var l=d.o.dir==="v"?n.changedTouches[0].pageY-d.startY:n.changedTouches[0].pageX-d.startX;var m=(l>30||l<-30)?l>0?-1:1:0;d.moveTo(d.curIndex+m,true)});if(d.o.drag){k.on("touchmove",function(m){if(!d.status){return 1}if(d.movingFlag){return 0}var o=m.changedTouches[0].pageY-d.startY;var l=m.changedTouches[0].pageX-d.startX;var n=(d.o.dir==="v"?(-d.curIndex*d.height+o):(-d.curIndex*d.width+l));k.removeClass("anim");c(k,d.o.dir,n)})}h.addEventListener("orientationchange",function(){if(h.orientation===180||h.orientation===0){d.o.orientationchange("portrait")}if(h.orientation===90||h.orientation===-90){d.o.orientationchange("landscape")}},false);h.addEventListener("resize",function(){d.update()},false)},start:function(){this.status=1},stop:function(){this.status=0},moveTo:function(d,l){var k=this;var m=k.$this;var n=k.curIndex;d=f(d,k.pagesLength,k.o.loop);if(l){m.addClass("anim")}else{m.removeClass("anim")}if(d!==n){k.o.beforeChange({next:d,cur:n})}k.movingFlag=true;k.curIndex=d;c(m,k.o.dir,-d*(k.o.dir==="v"?k.height:k.width));if(d!==n){k.o.change({prev:n,cur:d})}h.setTimeout(function(){k.movingFlag=false;if(d!==n){k.o.afterChange({prev:n,cur:d});k.$pages.removeClass("cur").eq(d).addClass("cur")}},k.o.duration)},movePrev:function(d){this.moveTo(this.curIndex-1,d)},moveNext:function(d){this.moveTo(this.curIndex+1,d)}});e.fn.fullpage=function(d){if(!g){g=new a(e(this),d)}return this};e.fn.fullpage.version="0.3.1";e.each(["update","moveTo","moveNext","movePrev","start","stop"],function(d,k){e.fn.fullpage[k]=function(){if(!g){return 0}g[k].apply(g,[].slice.call(arguments,0))}})}(Zepto,window));